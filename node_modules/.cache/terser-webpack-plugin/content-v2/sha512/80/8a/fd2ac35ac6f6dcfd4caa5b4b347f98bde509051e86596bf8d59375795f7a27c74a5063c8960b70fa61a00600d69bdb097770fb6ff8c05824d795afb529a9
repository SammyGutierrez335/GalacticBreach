{"code":"!function(e){var t={};function s(i){if(t[i])return t[i].exports;var h=t[i]={i:i,l:!1,exports:{}};return e[i].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var h in e)s.d(i,h,function(t){return e[t]}.bind(null,h));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\",s(s.s=0)}([function(e,t,s){\"use strict\";s.r(t);class i{constructor(e){this.speed=e.speed,this.x=e.x,this.y=e.y,this.height=32,this.width=32,this.imgSrc=e.imgSrc}renderImg(e){e.src=this.imgSrc}moveBullet(e,t,s,i){this.x+=e}}class h{constructor(e){this.speed=e.speed,this.x=e.x,this.y=e.y,this.height=64,this.width=64,this.imgSrc=e.imgSrc,this.deltaX=0,this.deltaY=0,this.keyPresses={},this.keyDownListener=this.keyDownListener.bind(this),this.keyUpListener=this.keyUpListener.bind(this),window.addEventListener(\"keydown\",this.keyDownListener,!1),window.addEventListener(\"keyup\",this.keyUpListener,!1)}keyDownListener(e){this.keyPresses[e.key]=!0}keyUpListener(e){this.keyPresses[e.key]=!1,this.deltaX=0,this.deltaY=0}renderImg(e){e.src=this.imgSrc}moveShip(e){let t=this.speed,s=this.speed;this.keyPresses.w?this.deltaY=-s:this.keyPresses.s&&(this.deltaY=s),this.keyPresses.a?this.deltaX=-t:this.keyPresses.d&&(this.deltaX=t),this.x+this.deltaX>0&&this.x+64+this.deltaX<e.width&&(this.x+=this.deltaX),this.y+this.deltaY>0&&this.y+64+this.deltaY<e.height&&(this.y+=this.deltaY)}}class n{constructor(e){this.speed=e.speed,this.x=e.x,this.y=e.y,this.height=64,this.width=64,this.imgSrc=e.imgSrc,this.offScreen=!0}renderImg(e){e.src=this.imgSrc}moveEnemy(e){this.x+e===-100&&(this.offScreen=!0),this.x-=e}}class a{constructor(e,t,s){this.ctx=s,this.game=e,this.canvas=t,this.animate=this.animate.bind(this)}start(){this.game.addShip();for(let e=0;e<48;e++)this.game.CYCLE_LOOP.push(e);requestAnimationFrame(this.animate)}animate(){return this.game.gameloop()}}let r=document.createElement(\"canvas\"),o=r.getContext(\"2d\");r.width=960,r.height=480;r.width;let l=r.width,d=document.createElement(\"canvas\"),m=r.getContext(\"2d\");d.width=960,d.height=480;const c=new class{constructor(e,t,s,i){this.canvas=e,this.ctx=t,this.backgroundCanvas=s,this.backgroundCtx=i,this.CYCLE_LOOP=[],this.frameCount=0,this.FRAME_LIMIT=5,this.currentLoopIndex=0,this.spaceshipImage=new Image,this.ships=[],this.enemyImage=new Image,this.enemies=[],this.bulletImage=new Image,this.bullets=[],this.bgImageX=0,this.bgImageFlippedX=e.width,this.shotsFired=!1,this.spaceAmbience=null,this.battleMusic=new Audio(\"assets/soundfx/space-battle.mp3\"),this.levelUpSfx=new Audio(\"assets/soundfx/fx/incoming-radar(louder).mp3\"),this.damage1=new Audio(\"assets/soundfx/fx/damage-1.mp3\"),this.damage2=new Audio(\"assets/soundfx/fx/damage-2.mp3\"),this.damage3=new Audio(\"assets/soundfx/fx/damage-3.mp3\"),this.drawFrame=this.drawFrame.bind(this),this.gameloop=this.gameloop.bind(this),this.remove=this.remove.bind(this),this.maxEnemies=3,this.score=0,this.playerLevel=1,this.numHits=0,this.playerInvicibility=!1,this.slippynoooooo=!1}addEnemy(){if(this.enemies.length<this.maxEnemies){let e=[\"assets/attackers/atom.png\",\"assets/attackers/mohican.png\"],t=new n({speed:Math.ceil(5*Math.random()),x:this.getRandomX(),y:this.getRandomY(),imgSrc:e[Math.floor.random(0,this.playerLevel)]});this.enemies.push(t),t.renderImg(this.enemyImage)}}getRandomX(){return Math.random()*(1200-this.canvas.width)+this.canvas.width}getRandomY(){return 440*Math.random()}addShip(){this.spaceAmbience=new Audio(\"assets/soundfx/Space Ambience.mp3\"),this.spaceAmbience.play();let e=new h({hasMoved:!1,speed:4,x:50,y:200,imgSrc:\"assets/player/playership.png\"});this.ships.push(e),e.renderImg(this.spaceshipImage)}addBullet(e){this.bullets.push(e),e.renderImg(this.bulletImage),new Audio(\"assets/soundfx/fx/shot-1.mp3\").play(),this.shotsFired||(this.shotsFired=!0,this.spaceAmbience.pause(),this.battleMusic.play())}checkCollision(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}remove(e,t){if(e instanceof i)this.bullets.splice(this.bullets.indexOf(e),1);else if(e instanceof n)this.enemies.splice(this.enemies.indexOf(e),1),t&&this.remove(t),this.score+=1,this.score===10*this.playerLevel&&(this.playerLevel+=1,this.maxEnemies+=2,this.levelUpSfx.play(),console.log(\"score:\",this.score),console.log(\"level:\",this.playerLevel));else{if(!(e instanceof h))throw new Error(\"unknown type of object\");this.ships.shift()}}takeDamage(){this.numHits+=1,this.playerInvicibility=!1,1===this.numHits?this.damage1.play():2===this.numHits?this.damage2.play():3===this.numHits?this.damage3.play():this.slippynoooooo=!0}drawFrame(e,t){let s=this.ctx,i=(this.backgroundCtx,new Image),h=this.ships[0],n=this.spaceshipImage,a=this.enemyImage,r=this.bulletImage;i.src=\"assets/backgrounds/bg1.png\";let o=new Image;if(o.src=\"assets/backgrounds/bg1-flipped-edged.png\",this.bgImageX<-this.canvas.width&&(this.bgImageX=this.canvas.width),this.bgImageFlippedX<-this.canvas.width&&(this.bgImageFlippedX=this.canvas.width),s.drawImage(i,this.bgImageX-=5,0),s.drawImage(o,this.bgImageFlippedX-=5,0),s.fillStyle=\"#FFFFFF\",s.font=\"20px fantasy\",s.fillText(\"Score : \"+this.score,50,50),s.fillText(\"Level : \"+this.playerLevel,850,50),s.drawImage(n,e%16*h.width,t*h.height,h.width,h.height,h.x,h.y,57.6,57.6),this.enemies.length>0&&this.enemies.length<=this.maxEnemies)for(let i=0;i<this.enemies.length;i++){let h=this.enemies[i];h.moveEnemy(h.speed,0,0,this.canvas),this.checkCollision(this.ships[0],h)&&!this.playerInvicibility&&setTimeout(this.takeDamage(),5e3),s.drawImage(a,e%24*h.width,t*h.height,h.width,h.height,h.x,h.y,57.6,57.6),h.x<0&&this.remove(h,null)}if(this.bullets.length>=0)for(let t=0;t<this.bullets.length;t++){let i=this.bullets[t];i.moveBullet(i.speed,0,0,this.canvas),s.drawImage(r,e%4,0,32,32,i.x,i.y,32,32),i.x>this.canvas.width&&this.remove(i);for(let e=0;e<this.enemies.length;e++){let t=this.enemies[e];this.checkCollision(t,i)&&this.remove(t,i)}}}gameloop(){let e=this.ships[0];if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.enemies.length<this.maxEnemies&&this.addEnemy(),e.keyPresses[\" \"]){let t=new i({speed:6,x:e.x+13,y:e.y+5,imgSrc:\"assets/fx/bullet_blue.png\"});e.keyPresses[\" \"]=!1,this.addBullet(t)}e.moveShip(this.canvas),this.frameCount++,this.frameCount>=this.FRAME_LIMIT&&(this.frameCount=0,this.currentLoopIndex++,this.currentLoopIndex>=this.CYCLE_LOOP.length&&(this.currentLoopIndex=0)),this.drawFrame(this.CYCLE_LOOP[this.currentLoopIndex],0);let t=window.requestAnimationFrame(this.gameloop);this.slippynoooooo&&(this.ctx.fillStyle=\"#000000\",this.ctx.font=\"20px fantasy\",this.ctx.fillText(\"Game Over : \",400,200),this.ctx.fillText(\"Your Score : \"+this.score,400,300),this.ctx.fillText(\"Your Level : \"+this.playerLevel,400,400),window.cancelAnimationFrame(t))}}(r,o,d,m);let p=new Image;p.src=\"assets/menu/background.png\";let g,u,f=new Image;f.src=\"assets/menu/blue/title.png\";let y=[300,-20,149,160],x=[140,220,300,380],w=[96,260,182,160],v=[40,40,40,40],b=[0,0],I=[0,0],L=!0,k=64,S=0,E=0;E=setInterval((function(){o.clearRect(0,0,r.width,r.height),function(){F-=C,F<-200&&(C=-C,X=!0);X&&F>0&&(C=-C);64===k&&(S=-1);0===k&&(S=1);k+=S}(),o.fillRect(75,0,800,l,\"black\"),o.drawImage(p,75,F),o.drawImage(f,75,150,820,200)}),31.25);let F=0,C=.4,X=!1;r.addEventListener(\"mousemove\",(function(e){e.pageX||0==e.pageY?(g=e.pageX-this.offsetLeft,u=e.pageY-this.offsetTop):(e.offsetX||0==e.offsetY)&&(g=e.offsetX,u=e.offsetY);for(let e=0;e<y.length;e++)g>y[e]&&g<y[e]+w[e]?u>x[e]&&u<x[e]+v[e]&&(L=!0,b[0]=y[e]-32-2,I[0]=x[e]+2,b[1]=y[e]+w[e]+32,I[1]=x[e]+2):L=!1})),r.addEventListener(\"mouseup\",(function e(t){if(g>0&&u>0){let t=new a(c,r,o);r.removeEventListener(\"mouseup\",e),t.start()}})),document.body.appendChild(r).setAttribute(\"class\",\"canvas\")}]);","extractedComments":[]}